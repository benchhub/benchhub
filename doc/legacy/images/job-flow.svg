<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd"><svg xmlns="http://www.w3.org/2000/svg" width="878" height="1142" xmlns:xlink="http://www.w3.org/1999/xlink"><source><![CDATA[title: job lifecycle
ctrl->central: submit job
central->ctrl: job id
central->meta: push to queue
ctrl->central: job status
central->meta: query job
central->ctrl: job in queue
meta->job: pull from queue
job->scheduler: acquire node
scheduler->job: assigned node
job->meta: update job
ctrl->central: job status
central->meta: query job
central->ctrl: job running
job->agent: dispatch job
agent->ts: metrics
agent->job: stage finished
job->meta: update job
job->agent: next stage
agent->ts: metrics
agent->job: stage finished
job->meta: finish job
agent->meta: aggregated result
ctrl->central: job status
central->meta: query job
central->ctrl: job finished]]></source><desc>job lifecycle</desc><defs><marker viewBox="0 0 5 5" markerWidth="5" markerHeight="5" orient="auto" refX="5" refY="2.5" id="markerArrowBlock"><path d="M 0 0 L 5 2.5 L 0 5 z"></path></marker><marker viewBox="0 0 9.6 16" markerWidth="4" markerHeight="16" orient="auto" refX="9.6" refY="8" id="markerArrowOpen"><path d="M 9.6,8 1.92,16 0,13.7 5.76,8 0,2.286 1.92,0 9.6,8 z"></path></marker></defs><g class="title"><rect x="10" y="10" width="135.59375" height="29" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="15" y="30" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="15">job lifecycle</tspan></text></g><g class="actor"><rect x="10" y="49" width="58.890625" height="39" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="20" y="74" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="20">ctrl</tspan></text></g><g class="actor"><rect x="10" y="1083" width="58.890625" height="39" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="20" y="1108" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="20">ctrl</tspan></text></g><line x1="39.4453125" x2="39.4453125" y1="88" y2="1083" stroke="#000000" fill="none" style="stroke-width: 2;"></line><g class="actor"><rect x="131.5" y="49" width="87.796875" height="39" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="141.5" y="74" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="141.5">central</tspan></text></g><g class="actor"><rect x="131.5" y="1083" width="87.796875" height="39" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="141.5" y="1108" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="141.5">central</tspan></text></g><line x1="175.3984375" x2="175.3984375" y1="88" y2="1083" stroke="#000000" fill="none" style="stroke-width: 2;"></line><g class="actor"><rect x="291.046875" y="49" width="59.890625" height="39" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="302.046875" y="74" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="301.046875">meta</tspan></text></g><g class="actor"><rect x="291.046875" y="1083" width="59.890625" height="39" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="302.046875" y="1108" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="301.046875">meta</tspan></text></g><line x1="320.9921875" x2="320.9921875" y1="88" y2="1083" stroke="#000000" fill="none" style="stroke-width: 2;"></line><g class="actor"><rect x="461.21875" y="49" width="49.265625" height="39" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="471.21875" y="74" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="471.21875">job</tspan></text></g><g class="actor"><rect x="461.21875" y="1083" width="49.265625" height="39" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="471.21875" y="1108" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="471.21875">job</tspan></text></g><line x1="485.8515625" x2="485.8515625" y1="88" y2="1083" stroke="#000000" fill="none" style="stroke-width: 2;"></line><g class="actor"><rect x="577.4140625" y="49" width="108.0625" height="39" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="587.4140625" y="74" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="587.4140625">scheduler</tspan></text></g><g class="actor"><rect x="577.4140625" y="1083" width="108.0625" height="39" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="587.4140625" y="1108" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="587.4140625">scheduler</tspan></text></g><line x1="631.4453125" x2="631.4453125" y1="88" y2="1083" stroke="#000000" fill="none" style="stroke-width: 2;"></line><g class="actor"><rect x="705.4765625" y="49" width="68.53125" height="39" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="715.4765625" y="74" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="715.4765625">agent</tspan></text></g><g class="actor"><rect x="705.4765625" y="1083" width="68.53125" height="39" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="715.4765625" y="1108" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="715.4765625">agent</tspan></text></g><line x1="739.7421875" x2="739.7421875" y1="88" y2="1083" stroke="#000000" fill="none" style="stroke-width: 2;"></line><g class="actor"><rect x="808.7265625" y="49" width="39.625" height="39" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="818.7265625" y="74" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="818.7265625">ts</tspan></text></g><g class="actor"><rect x="808.7265625" y="1083" width="39.625" height="39" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="818.7265625" y="1108" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="818.7265625">ts</tspan></text></g><line x1="828.5390625" x2="828.5390625" y1="88" y2="1083" stroke="#000000" fill="none" style="stroke-width: 2;"></line><g class="signal"><text x="59.078125" y="118.5" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="59.078125">submit job</tspan></text><line x1="39.4453125" x2="175.3984375" y1="127" y2="127" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="78.34375" y="157.5" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="78.34375">job id</tspan></text><line x1="175.3984375" x2="39.4453125" y1="166" y2="166" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="185.3984375" y="196.5" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="185.3984375">push to queue</tspan></text><line x1="175.3984375" x2="320.9921875" y1="205" y2="205" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="59.078125" y="235.5" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="59.078125">job status</tspan></text><line x1="39.4453125" x2="175.3984375" y1="244" y2="244" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="204.6640625" y="274.5" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="204.6640625">query job</tspan></text><line x1="175.3984375" x2="320.9921875" y1="283" y2="283" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="49.4453125" y="313.5" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="49.4453125">job in queue</tspan></text><line x1="175.3984375" x2="39.4453125" y1="322" y2="322" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="330.9921875" y="352.5" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="330.9921875">pull from queue</tspan></text><line x1="320.9921875" x2="485.8515625" y1="361" y2="361" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="500.671875" y="391.5" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="500.671875">acquire node</tspan></text><line x1="485.8515625" x2="631.4453125" y1="400" y2="400" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="495.8515625" y="430.5" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="495.8515625">assigned node</tspan></text><line x1="631.4453125" x2="485.8515625" y1="439" y2="439" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="355.078125" y="469.5" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="355.078125">update job</tspan></text><line x1="485.8515625" x2="320.9921875" y1="478" y2="478" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="59.078125" y="508.5" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="59.078125">job status</tspan></text><line x1="39.4453125" x2="175.3984375" y1="517" y2="517" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="204.6640625" y="547.5" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="204.6640625">query job</tspan></text><line x1="175.3984375" x2="320.9921875" y1="556" y2="556" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="54.2578125" y="586.5" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="54.2578125">job running</tspan></text><line x1="175.3984375" x2="39.4453125" y1="595" y2="595" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="555.3203125" y="625.5" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="554.3203125">dispatch job</tspan></text><line x1="485.8515625" x2="739.7421875" y1="634" y2="634" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="750.7421875" y="664.5" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="749.7421875">metrics</tspan></text><line x1="739.7421875" x2="828.5390625" y1="673" y2="673" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="545.1875" y="703.5" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="545.1875">stage finished</tspan></text><line x1="739.7421875" x2="485.8515625" y1="712" y2="712" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="355.078125" y="742.5" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="355.078125">update job</tspan></text><line x1="485.8515625" x2="320.9921875" y1="751" y2="751" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="564.453125" y="781.5" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="564.453125">next stage</tspan></text><line x1="485.8515625" x2="739.7421875" y1="790" y2="790" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="750.7421875" y="820.5" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="749.7421875">metrics</tspan></text><line x1="739.7421875" x2="828.5390625" y1="829" y2="829" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="545.1875" y="859.5" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="545.1875">stage finished</tspan></text><line x1="739.7421875" x2="485.8515625" y1="868" y2="868" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="355.078125" y="898.5" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="355.078125">finish job</tspan></text><line x1="485.8515625" x2="320.9921875" y1="907" y2="907" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="448.3046875" y="937.5" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="448.3046875">aggregated result</tspan></text><line x1="739.7421875" x2="320.9921875" y1="946" y2="946" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="59.078125" y="976.5" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="59.078125">job status</tspan></text><line x1="39.4453125" x2="175.3984375" y1="985" y2="985" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="204.6640625" y="1015.5" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="204.6640625">query job</tspan></text><line x1="175.3984375" x2="320.9921875" y1="1024" y2="1024" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="49.4453125" y="1054.5" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="49.4453125">job finished</tspan></text><line x1="175.3984375" x2="39.4453125" y1="1063" y2="1063" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g></svg>