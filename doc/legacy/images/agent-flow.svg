<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd"><svg xmlns="http://www.w3.org/2000/svg" width="464" height="616" xmlns:xlink="http://www.w3.org/1999/xlink"><source><![CDATA[title: agent lifecycle
nodeutil->agent: capacity
Note over agent: bootstrap
agent->central: register
central->meta: update store
central->agent: node info
nodeutil->agent: capacity
agent->central: heartbeat
central->agent: job
Note over agent: run job
agent->central: result
central->meta: update store]]></source><desc>agent lifecycle</desc><defs><marker viewBox="0 0 5 5" markerWidth="5" markerHeight="5" orient="auto" refX="5" refY="2.5" id="markerArrowBlock"><path d="M 0 0 L 5 2.5 L 0 5 z"></path></marker><marker viewBox="0 0 9.6 16" markerWidth="4" markerHeight="16" orient="auto" refX="9.6" refY="8" id="markerArrowOpen"><path d="M 9.6,8 1.92,16 0,13.7 5.76,8 0,2.286 1.92,0 9.6,8 z"></path></marker></defs><g class="title"><rect x="10" y="10" width="154.859375" height="29" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="15" y="30" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="15">agent lifecycle</tspan></text></g><g class="actor"><rect x="10" y="49" width="97.421875" height="39" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="20" y="74" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="20">nodeutil</tspan></text></g><g class="actor"><rect x="10" y="557" width="97.421875" height="39" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="20" y="582" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="20">nodeutil</tspan></text></g><line x1="58.7109375" x2="58.7109375" y1="88" y2="557" stroke="#000000" fill="none" style="stroke-width: 2;"></line><g class="actor"><rect x="127.421875" y="49" width="68.53125" height="39" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="137.421875" y="74" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="137.421875">agent</tspan></text></g><g class="actor"><rect x="127.421875" y="557" width="68.53125" height="39" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="137.421875" y="582" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="137.421875">agent</tspan></text></g><line x1="161.6875" x2="161.6875" y1="88" y2="557" stroke="#000000" fill="none" style="stroke-width: 2;"></line><g class="actor"><rect x="224.8515625" y="49" width="87.796875" height="39" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="234.8515625" y="74" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="234.8515625">central</tspan></text></g><g class="actor"><rect x="224.8515625" y="557" width="87.796875" height="39" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="234.8515625" y="582" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="234.8515625">central</tspan></text></g><line x1="268.75" x2="268.75" y1="88" y2="557" stroke="#000000" fill="none" style="stroke-width: 2;"></line><g class="actor"><rect x="374.7578125" y="49" width="59.890625" height="39" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="385.7578125" y="74" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="384.7578125">meta</tspan></text></g><g class="actor"><rect x="374.7578125" y="557" width="59.890625" height="39" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="385.7578125" y="582" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="384.7578125">meta</tspan></text></g><line x1="404.703125" x2="404.703125" y1="88" y2="557" stroke="#000000" fill="none" style="stroke-width: 2;"></line><g class="signal"><text x="70.98828125" y="118.5" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="70.98828125">capacity</tspan></text><line x1="58.7109375" x2="161.6875" y1="127" y2="127" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="note"><rect x="113.15625" y="147" width="97.0625" height="29" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="118.15625" y="167" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="118.15625">bootstrap</tspan></text></g><g class="signal"><text x="176.0078125" y="206.5" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="176.0078125">register</tspan></text><line x1="161.6875" x2="268.75" y1="215" y2="215" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="278.75" y="245.5" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="278.75">update store</tspan></text><line x1="268.75" x2="404.703125" y1="254" y2="254" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="171.6875" y="284.5" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="171.6875">node info</tspan></text><line x1="268.75" x2="161.6875" y1="293" y2="293" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="70.98828125" y="323.5" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="70.98828125">capacity</tspan></text><line x1="58.7109375" x2="161.6875" y1="332" y2="332" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="171.6875" y="362.5" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="171.6875">heartbeat</tspan></text><line x1="161.6875" x2="268.75" y1="371" y2="371" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="200.5859375" y="401.5" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="200.5859375">job</tspan></text><line x1="268.75" x2="161.6875" y1="410" y2="410" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="note"><rect x="122.7890625" y="430" width="77.796875" height="29" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="127.7890625" y="450" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="127.7890625">run job</tspan></text></g><g class="signal"><text x="186.140625" y="489.5" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="186.140625">result</tspan></text><line x1="161.6875" x2="268.75" y1="498" y2="498" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="278.75" y="528.5" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="278.75">update store</tspan></text><line x1="268.75" x2="404.703125" y1="537" y2="537" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g></svg>