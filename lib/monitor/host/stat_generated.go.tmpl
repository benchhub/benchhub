package host

import (
    "bytes"
    "io/ioutil"

    "github.com/dyweb/gommon/errors"
)

{{ range .update }}
// Update simply open the file and call UpdateFrom, they are generated by gommon from go template
func (s *{{.}}) Update() error {
	data, err := ioutil.ReadFile(s.Path())
	if err != nil {
		return errors.Wrapf(err, "can't read file %s", s.Path())
	}
	return s.UpdateFrom(bytes.NewReader(data))
}
{{ end }}